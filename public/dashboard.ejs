<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>My Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400;900&family=Ubuntu&display=swap" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous"
    referrerpolicy="no-referrer" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <script src="https://kit.fontawesome.com/504d9b5831.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="css/profile.css">
  <link rel="stylesheet" href="css/dashboard.css">
  <script src="https://kit.fontawesome.com/b831b59faf.js" crossorigin="anonymous"></script>
</head>

<body>
      <!-- Nav Bar -->
      <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="">TravelBNB</a>
        <ul class="navbar-nav ms-auto">
            <% if(!host){ %>
            <li class="nav-item">
                <a class="nav-link btn rounded-5" href=""> Become a Host </a><!--for users who are not hosts-->
            </li>
            <% } %>
            <li class="nav-item">
                <div class="dropdown">
                    <a class="btn rounded-5" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fa-solid fa-bars"></i><img src="images/defaultUser.jpg" alt="profile" class="profile-img1"><!--add image path of user-->
                    </a>

                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuLink">
                        <li><a class="dropdown-item" href="#"><b>Trips</b></a></li><!--my trips-->
                        <li><a class="dropdown-item" href="#"><b>Wishlists</b></a></li>
                        <li><a class="dropdown-item" href="#"><b>My Dashboard</b></a></li>
                        <!--add dashboard if possible-->
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <% if(host){ %>
                        <li><a class="dropdown-item" href="#">Manage listings</a></li><!--for host only-->
                        <li><a class="dropdown-item" href="#">Reserved Properties</a></li><!--for host only-->
                        <% } %>
                        <li><a class="dropdown-item" href="#">My Reservations</a></li><!--add my reservations-->
                        <li><a class="dropdown-item" href="#">My Reviews</a></li><!--add my reviews-->
                        <li><a class="dropdown-item" href="#">My Profile</a></li><!--change to my profile-->
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="#">Complain</a></li> <!--remove help option change to complaint-->
                        <li><a class="dropdown-item" href="#">Log out</a></li>


                    </ul>
                </div>
            </li>
        </ul>

    </nav>

      <div class="content">
        <div class="container-fluid">
            <h3 class="page-title">Dashboard</h3>
            <% if(host){%>
            <p class="title">Earning Statistics:</p>
            <p class="title">My Bank Account Number: <%= result1[0].BANKACCOUNT %></p>
            <div class="row">
                <div class="col-md">
                    <div class="card text-white bg-warning">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5">
                                    <div class="icon-big text-center">
                                        <i class="fa-solid fa-dollar-sign"></i>
                                    </div>
                                </div>
                                <div class="col-7 d-flex align-items-center">
                                    <div class="numbers">
                                        <p class="card-category">Total Earned Last Month (<%= result1[0].MONTH %>)</p>
                                        <h4 class="card-title"><%= result1[0].TOTALMONTH %></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md">
                    <div class="card text-white bg-success">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5">
                                    <div class="icon-big text-center">
                                        <i class="fa-solid fa-sack-dollar"></i>
                                    </div>
                                </div>
                                <div class="col-7 d-flex align-items-center">
                                    <div class="numbers">
                                        <p class="card-category">Total Earned</p>
                                        <h4 class="card-title"><%= result2[0].TOTAL %></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <hr>
            <% } %>
            <p class="title">Expenditure Statistics:</p>
            <p class="title">My Credit Card Number: <%= result3[0].CREDITCARD %></p>
            <div class="row">
                <div class="col-md">
                    <div class="card text-white bg-warning">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5">
                                    <div class="icon-big text-center">
                                        <i class="fa-solid fa-hand-holding-dollar"></i>
                                    </div>
                                </div>
                                <div class="col-7 d-flex align-items-center">
                                    <div class="numbers">
                                        <p class="card-category">Total Spent Last Month (<%= result3[0].MONTH %>)</p>
                                        <h4 class="card-title"><%= result3[0].TOTALSPENTMONTH %></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md">
                    <div class="card text-white bg-danger">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5">
                                    <div class="icon-big text-center">
                                        <i class="fa-solid fa-minus"></i>
                                        <i class="fa-solid fa-sack-dollar"></i>
                                    </div>
                                </div>
                                <div class="col-7 d-flex align-items-center">
                                    <div class="numbers">
                                        <p class="card-category">Total Spent</p>
                                        <h4 class="card-title"><%= result4[0].TOTALSPENT %></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <hr>
            <p></p>
            
            <% if(host){ %>
            <p class="title">Property Statistics (<%= result1[0].MONTH %>):</p>
            <div class="row">
                <div class="col-md">
                    <div class="card text-white bg-warning">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5">
                                    <div class="icon-big text-center">
                                        <i class="fa-solid fa-users"></i>
                                    </div>
                                </div>
                                <div class="col-7 d-flex align-items-center">
                                    <div class="numbers">
                                        <p class="card-category">Total Guests</p>
                                        <h4 class="card-title"><%= result5[0].GUESTS %></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md">
                    <div class="card text-white bg-success">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5">
                                    <div class="icon-big text-center">
                                        <i class="fa-solid fa-check"></i>
                                    </div>
                                </div>
                                <div class="col-7 d-flex align-items-center">
                                    <div class="numbers">
                                        <p class="card-category">Total Reservations</p>
                                        <h4 class="card-title"><%= result6[0].RESERVE %>></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md">
                    <div class="card text-white bg-danger">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5">
                                    <div class="icon-big text-center">
                                        <i class="fa-solid fa-xmark"></i>
                                    </div>
                                </div>
                                <div class="col-7 d-flex align-items-center">
                                    <div class="numbers">
                                        <p class="card-category">Total Cancellations</p>
                                        <h4 class="card-title"><%= result7[0].CANCEL %>></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <p></p>
            <hr>
            <br>

            <p class="title">Property Statistics (Individual Properties, <%= result8[0].MONTH %>):</p>
            <% result8.forEach(element => { %>
            <div class="row">
                <div class="col-md">
                    <div class="card text-black bg-light">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-4 details d-flex justify-content-center">
                                    <div class="property-details">
                                        Property Name: <%= element.PROPERTYNAME %><br>
                                        Address: <%= element.STREET %>, <%= element.CITY %>, <%= element.COUNTRY %>
                                    </div>
                                </div>
                                <div class="col-4 d-flex align-items-center">
                                    <div class="numbers">
                                        <p class="card-category">Total Reservations</p>
                                        <h4 class="card-title"><%= element.RESERVE %></h4>
                                    </div>
                                </div>
                                <div class="col-4 d-flex align-items-center">
                                    <div class="numbers">
                                        <p class="card-category">Total Earning</p>
                                        <h4 class="card-title"><%= element.EARN %></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <% }); %>
            <% } %>
        </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>

</body>
</html>